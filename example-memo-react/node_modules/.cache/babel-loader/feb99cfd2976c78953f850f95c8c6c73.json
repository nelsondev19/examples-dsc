{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from \"react\";\nexport const useInfiniteScroll = ({\n  element,\n  fetch\n}) => {\n  _s();\n\n  const loader = useRef(fetch);\n  const observer = useRef(new IntersectionObserver(entries => {\n    const first = entries[0];\n\n    if (first.isIntersecting) {\n      loader.current();\n    }\n  }, {\n    threshold: 1\n  }));\n  useEffect(() => {\n    loader.current = fetch;\n  }, [fetch]);\n  useEffect(() => {\n    const currentElement = element;\n    const currentObserver = observer.current;\n\n    if (currentElement) {\n      console.log('si existe el elemento');\n      currentObserver.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  }, [element]);\n};\n\n_s(useInfiniteScroll, \"m3/8Uy2W0vdOrSZGgITeFhtIMdM=\");","map":{"version":3,"sources":["/home/nelson/Escritorio/examples-dsc/example-memo-react/src/hooks/useInfiniteScroll.js"],"names":["useRef","useEffect","useInfiniteScroll","element","fetch","loader","observer","IntersectionObserver","entries","first","isIntersecting","current","threshold","currentElement","currentObserver","console","log","observe","unobserve"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AAEA,OAAO,MAAMC,iBAAiB,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAAwB;AAAA;;AACvD,QAAMC,MAAM,GAAGL,MAAM,CAACI,KAAD,CAArB;AAEA,QAAME,QAAQ,GAAGN,MAAM,CACrB,IAAIO,oBAAJ,CACGC,OAAD,IAAa;AACX,UAAMC,KAAK,GAAGD,OAAO,CAAC,CAAD,CAArB;;AACA,QAAIC,KAAK,CAACC,cAAV,EAA0B;AACxBL,MAAAA,MAAM,CAACM,OAAP;AACD;AACF,GANH,EAOE;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAPF,CADqB,CAAvB;AAYAX,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,MAAM,CAACM,OAAP,GAAiBP,KAAjB;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,cAAc,GAAGV,OAAvB;AACA,UAAMW,eAAe,GAAGR,QAAQ,CAACK,OAAjC;;AAEA,QAAIE,cAAJ,EAAoB;AAClBE,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAF,MAAAA,eAAe,CAACG,OAAhB,CAAwBJ,cAAxB;AACD;;AAED,WAAO,MAAM;AACX,UAAIA,cAAJ,EAAoB;AAClBC,QAAAA,eAAe,CAACI,SAAhB,CAA0BL,cAA1B;AACD;AACF,KAJD;AAKD,GAdQ,EAcN,CAACV,OAAD,CAdM,CAAT;AAeD,CAlCM;;GAAMD,iB","sourcesContent":["import { useRef, useEffect } from \"react\";\n\nexport const useInfiniteScroll = ({ element, fetch }) => {\n  const loader = useRef(fetch);\n\n  const observer = useRef(\n    new IntersectionObserver(\n      (entries) => {\n        const first = entries[0];\n        if (first.isIntersecting) {\n          loader.current();\n        }\n      },\n      { threshold: 1 }\n    )\n  );\n\n  useEffect(() => {\n    loader.current = fetch;\n  }, [fetch]);\n\n  useEffect(() => {\n    const currentElement = element;\n    const currentObserver = observer.current;\n\n    if (currentElement) {\n      console.log('si existe el elemento');\n      currentObserver.observe(currentElement);\n    }\n\n    return () => {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  }, [element]);\n};"]},"metadata":{},"sourceType":"module"}